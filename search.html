---
layout: page
title: ê²€ìƒ‰
permalink: /search/
---

<div class="search-container">
  <h1>ğŸ” ë¸”ë¡œê·¸ ê²€ìƒ‰</h1>
  
  <div class="search-box">
    <input type="text" id="search-input" placeholder="ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš”..." />
    <button id="search-button" class="btn">ê²€ìƒ‰</button>
  </div>
  
  <div id="search-results" class="search-results">
    <!-- ê²€ìƒ‰ ê²°ê³¼ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
  </div>
</div>

<script>
// ê²€ìƒ‰ ê¸°ëŠ¥ êµ¬í˜„
document.addEventListener('DOMContentLoaded', function() {
  const searchInput = document.getElementById('search-input');
  const searchButton = document.getElementById('search-button');
  const searchResults = document.getElementById('search-results');
  
  // í¬ìŠ¤íŠ¸ ë°ì´í„° (ì‹¤ì œë¡œëŠ” Jekyllì—ì„œ ìƒì„±ë¨)
  const posts = [
    {% raw %}{% for post in site.posts %}
    {
      title: "{{ post.title }}",
      url: "{{ post.url }}",
      excerpt: "{{ post.excerpt | strip_html | truncatewords: 50 }}",
      date: "{{ post.date | date: '%Yë…„ %mì›” %dì¼' }}",
      categories: [{% for category in post.categories %}"{{ category }}"{% unless forloop.last %}, {% endunless %}{% endfor %}],
      tags: [{% for tag in post.tags %}"{{ tag }}"{% unless forloop.last %}, {% endunless %}{% endfor %}]
    }{% unless forloop.last %},{% endunless %}
    {% endfor %}{% endraw %}
  ];
  
  function performSearch(query) {
    if (!query.trim()) {
      searchResults.innerHTML = '<p class="no-results">ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.</p>';
      return;
    }
    
    const results = posts.filter(post => {
      const searchText = query.toLowerCase();
      return post.title.toLowerCase().includes(searchText) ||
             post.excerpt.toLowerCase().includes(searchText) ||
             post.categories.some(cat => cat.toLowerCase().includes(searchText)) ||
             post.tags.some(tag => tag.toLowerCase().includes(searchText));
    });
    
    displayResults(results, query);
  }
  
  function displayResults(results, query) {
    if (results.length === 0) {
      searchResults.innerHTML = `
        <div class="no-results">
          <h3>ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤</h3>
          <p>"${query}"ì— ëŒ€í•œ ê²€ìƒ‰ ê²°ê³¼ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</p>
          <p>ë‹¤ë¥¸ í‚¤ì›Œë“œë¡œ ë‹¤ì‹œ ê²€ìƒ‰í•´ë³´ì„¸ìš”.</p>
        </div>
      `;
      return;
    }
    
    const resultsHTML = results.map(post => `
      <article class="search-result-card">
        <h3><a href="${post.url}">${post.title}</a></h3>
        <div class="post-meta">
          <span class="post-date">ğŸ“… ${post.date}</span>
          ${post.categories.map(cat => `<span class="category-tag">${cat}</span>`).join('')}
        </div>
        <p class="post-excerpt">${post.excerpt}</p>
        <a href="${post.url}" class="btn btn-small">ìì„¸íˆ ë³´ê¸°</a>
      </article>
    `).join('');
    
    searchResults.innerHTML = `
      <div class="search-summary">
        <h3>"${query}"ì— ëŒ€í•œ ê²€ìƒ‰ ê²°ê³¼ (${results.length}ê°œ)</h3>
      </div>
      <div class="search-results-grid">
        ${resultsHTML}
      </div>
    `;
  }
  
  // ê²€ìƒ‰ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
  searchButton.addEventListener('click', () => {
    performSearch(searchInput.value);
  });
  
  searchInput.addEventListener('keypress', (e) => {
    if (e.key === 'Enter') {
      performSearch(searchInput.value);
    }
  });
  
  // URL íŒŒë¼ë¯¸í„°ì—ì„œ ê²€ìƒ‰ì–´ ê°€ì ¸ì˜¤ê¸°
  const urlParams = new URLSearchParams(window.location.search);
  const queryParam = urlParams.get('q');
  if (queryParam) {
    searchInput.value = queryParam;
    performSearch(queryParam);
  }
});
</script> 